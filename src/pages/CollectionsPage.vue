<template>
  <div class="min-h-screen bg-white">
    <!-- SEO Head -->
    <SEOHead 
      title="Collections | Curated Perfume Sets"
      description="Discover our specially curated perfume collections and gift sets. Perfect gifts in EGP."
      type="website"
    />

    <!-- Hero Section -->
    <div class="relative bg-gradient-to-r from-gray-900 via-primary-900 to-gray-900 text-white">
      <div class="container mx-auto px-4 py-16 md:py-24">
        <div class="max-w-3xl" :class="{ 'text-right': isRTL }">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-display-en font-bold mb-6">
            {{ currentLanguage === 'en' ? 'Curated Collections' : 'Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…Ø®ØªØ§Ø±Ø©' }}
          </h1>
          <p class="text-lg md:text-xl text-gray-300 mb-8">
            {{ currentLanguage === 'en' 
               ? 'Explore our specially curated perfume collections, each designed to tell a unique story and evoke specific emotions.' 
               : 'Ø§Ø³ØªÙƒØ´Ù Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø®ØµÙŠØµØ§Ù‹ØŒ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØµÙ…Ù…Ø© Ù„ØªØ±ÙˆÙŠ Ù‚ØµØ© ÙØ±ÙŠØ¯Ø© ÙˆØªØ«ÙŠØ± Ù…Ø´Ø§Ø¹Ø± Ù…Ø­Ø¯Ø¯Ø©.' }}
          </p>
        </div>
      </div>
    </div>

    <div class="container mx-auto px-4 py-8">
      <!-- Breadcrumb -->
      <nav class="flex items-center text-sm text-gray-600 mb-8" 
           :class="{ 'flex-row-reverse': isRTL }">
        <router-link to="/" class="hover:text-primary-600 transition-colors">
          {{ currentLanguage === 'en' ? 'Home' : 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' }}
        </router-link>
        <span class="mx-3">/</span>
        <span class="text-gray-900 font-medium">{{ currentLanguage === 'en' ? 'Collections' : 'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª' }}</span>
      </nav>

      <!-- Collections Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Seasonal Collection -->
        <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl shadow-lg overflow-hidden">
          <div class="p-8">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                <span class="text-white text-xl">ğŸŒ¸</span>
              </div>
              <h3 class="text-2xl font-display-en font-bold text-gray-900">
                {{ currentLanguage === 'en' ? 'Seasonal Collection' : 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ÙˆØ³Ù…ÙŠØ©' }}
              </h3>
            </div>
            <p class="text-gray-700 mb-6">
              {{ currentLanguage === 'en' 
                 ? 'Fresh and vibrant scents perfect for spring and summer. Light florals and citrus notes that capture the essence of sunny days.' 
                 : 'Ø¹Ø·ÙˆØ± Ù…Ù†Ø¹Ø´Ø© ÙˆÙ†Ø§Ø¨Ø¶Ø© Ø¨Ø§Ù„Ø­ÙŠØ§Ø© Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø±Ø¨ÙŠØ¹ ÙˆØ§Ù„ØµÙŠÙ. Ù†ÙˆØªØ§Øª Ø²Ù‡Ø±ÙŠØ© Ø®ÙÙŠÙØ© ÙˆØ­Ù…Ø¶ÙŠØ§Øª ØªØ¬Ø³Ø¯ Ø¬Ùˆ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø´Ù…Ø³Ø©.' }}
            </p>
            <div class="flex items-center justify-between">
              <span class="text-lg font-bold text-primary-600">
                {{ currentLanguage === 'en' ? 'From 1500 EGP' : 'Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† 1500 Ø¬Ù†ÙŠÙ‡' }}
              </span>
              <button
                @click="viewSeasonalProducts"
                class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
              >
                {{ currentLanguage === 'en' ? 'Explore' : 'Ø§Ø³ØªÙƒØ´Ù' }}
              </button>
            </div>
          </div>
          <div class="h-48 bg-gradient-to-r from-blue-200 to-indigo-300"></div>
        </div>

        <!-- Evening Collection -->
        <div class="bg-gradient-to-br from-purple-50 to-pink-100 rounded-2xl shadow-lg overflow-hidden">
          <div class="p-8">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                <span class="text-white text-xl">ğŸŒ™</span>
              </div>
              <h3 class="text-2xl font-display-en font-bold text-gray-900">
                {{ currentLanguage === 'en' ? 'Evening Elegance' : 'Ø£Ù†Ø§Ù‚Ø© Ø§Ù„Ù…Ø³Ø§Ø¡' }}
              </h3>
            </div>
            <p class="text-gray-700 mb-6">
              {{ currentLanguage === 'en' 
                 ? 'Rich, sensual fragrances for special occasions and evening events. Deep woods, amber, and musk create unforgettable impressions.' 
                 : 'Ø¹Ø·ÙˆØ± ØºÙ†ÙŠØ© ÙˆØ­Ø³ÙŠØ© Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¦ÙŠØ©. Ø§Ù„Ø£Ø®Ø´Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø© ÙˆØ§Ù„Ø¹Ù†Ø¨Ø± ÙˆØ§Ù„Ù…Ø³Ùƒ ØªØ®Ù„Ù‚ Ø§Ù†Ø·Ø¨Ø§Ø¹Ø§Øª Ù„Ø§ ØªÙ†Ø³Ù‰.' }}
            </p>
            <div class="flex items-center justify-between">
              <span class="text-lg font-bold text-primary-600">
                {{ currentLanguage === 'en' ? 'From 2500 EGP' : 'Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† 2500 Ø¬Ù†ÙŠÙ‡' }}
              </span>
              <button
                @click="viewEveningProducts"
                class="px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors"
              >
                {{ currentLanguage === 'en' ? 'Explore' : 'Ø§Ø³ØªÙƒØ´Ù' }}
              </button>
            </div>
          </div>
          <div class="h-48 bg-gradient-to-r from-purple-200 to-pink-300"></div>
        </div>

        <!-- Gift Sets -->
        <div class="bg-gradient-to-br from-amber-50 to-yellow-100 rounded-2xl shadow-lg overflow-hidden">
          <div class="p-8">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center">
                <span class="text-white text-xl">ğŸ</span>
              </div>
              <h3 class="text-2xl font-display-en font-bold text-gray-900">
                {{ currentLanguage === 'en' ? 'Premium Gift Sets' : 'Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù‡Ø¯Ø§ÙŠØ§ Ù…Ù…ÙŠØ²Ø©' }}
              </h3>
            </div>
            <p class="text-gray-700 mb-6">
              {{ currentLanguage === 'en' 
                 ? 'Perfect presents for loved ones. Complete sets including perfume, body lotion, and shower gel in matching scents.' 
                 : 'Ù‡Ø¯Ø§ÙŠØ§ Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø£Ø­Ø¨Ø§Ø¡. Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙƒØ§Ù…Ù„Ø© ØªØ´Ù…Ù„ Ø§Ù„Ø¹Ø·Ø±ØŒ Ù„ÙˆØ´Ù† Ø§Ù„Ø¬Ø³Ù…ØŒ ÙˆØ¬Ù„ Ø§Ù„Ø§Ø³ØªØ­Ù…Ø§Ù… Ø¨Ù†ÙØ³ Ø§Ù„Ø±Ø§Ø¦Ø­Ø©.' }}
            </p>
            <div class="flex items-center justify-between">
              <span class="text-lg font-bold text-primary-600">
                {{ currentLanguage === 'en' ? 'From 3500 EGP' : 'Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† 3500 Ø¬Ù†ÙŠÙ‡' }}
              </span>
              <button
                @click="viewGiftSets"
                class="px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors"
              >
                {{ currentLanguage === 'en' ? 'Explore' : 'Ø§Ø³ØªÙƒØ´Ù' }}
              </button>
            </div>
          </div>
          <div class="h-48 bg-gradient-to-r from-amber-200 to-yellow-300"></div>
        </div>

        <!-- Arabic Oud Collection -->
        <div class="bg-gradient-to-br from-emerald-50 to-teal-100 rounded-2xl shadow-lg overflow-hidden">
          <div class="p-8">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center">
                <span class="text-white text-xl">ğŸŒ¿</span>
              </div>
              <h3 class="text-2xl font-display-en font-bold text-gray-900">
                {{ currentLanguage === 'en' ? 'Arabic Oud Collection' : 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¹ÙˆØ¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ' }}
              </h3>
            </div>
            <p class="text-gray-700 mb-6">
              {{ currentLanguage === 'en' 
                 ? 'Authentic Arabian oud fragrances with deep, woody notes. Traditional scents with modern elegance for the discerning connoisseur.' 
                 : 'Ø¹Ø·ÙˆØ± Ø¹ÙˆØ¯ Ø¹Ø±Ø¨ÙŠ Ø£ØµÙŠÙ„Ø© Ø¨Ù†ÙˆØªØ§Øª Ø®Ø´Ø¨ÙŠØ© Ø¹Ù…ÙŠÙ‚Ø©. Ø±ÙˆØ§Ø¦Ø­ ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ø£Ù†Ø§Ù‚Ø© Ø¹ØµØ±ÙŠØ© Ù„Ù„Ù‡ÙˆØ§Ø© Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ†.' }}
            </p>
            <div class="flex items-center justify-between">
              <span class="text-lg font-bold text-primary-600">
                {{ currentLanguage === 'en' ? 'From 5000 EGP' : 'Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† 5000 Ø¬Ù†ÙŠÙ‡' }}
              </span>
              <button
                @click="viewOudProducts"
                class="px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors"
              >
                {{ currentLanguage === 'en' ? 'Explore' : 'Ø§Ø³ØªÙƒØ´Ù' }}
              </button>
            </div>
          </div>
          <div class="h-48 bg-gradient-to-r from-emerald-200 to-teal-300"></div>
        </div>
      </div>

      <!-- Featured Products -->
      <div v-if="featuredProducts.length > 0" class="mt-16">
        <h2 class="text-3xl font-display-en font-bold text-gray-900 mb-8">
          {{ currentLanguage === 'en' ? 'Featured in Collections' : 'Ù…Ù…ÙŠØ² ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª' }}
        </h2>
        <ProductGrid 
          :products="featuredProducts"
          @view-product="viewProduct"
          @add-to-cart="addToCart"
        />
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { useLanguageStore } from '@/stores/language'
import { useProductsStore } from '@/stores/products'
import { useCartStore } from '@/stores/cart'
import ProductGrid from '@/components/Products/ProductGrid.vue'
import SEOHead from '@/components/UI/SEOHead.vue'
import type { Product } from '@/types'

const router = useRouter()
const languageStore = useLanguageStore()
const productsStore = useProductsStore()
const cartStore = useCartStore()

const { currentLanguage, isRTL } = languageStore

// Computed
const featuredProducts = computed(() => {
  return productsStore.products.filter(product => product.isFeatured).slice(0, 8)
})

// Methods
const viewSeasonalProducts = () => {
  router.push('/shop?category=floral')
}

const viewEveningProducts = () => {
  router.push('/shop?category=oriental')
}

const viewGiftSets = () => {
  router.push('/shop?minPrice=3500')
}

const viewOudProducts = () => {
  router.push('/brand/tom-ford') // Example brand for oud
}

const viewProduct = (product: Product) => {
  router.push(`/product/${product.slug}`)
}

const addToCart = (product: Product, quantity: number = 1) => {
  cartStore.addToCart(product, quantity)
}

// On mounted
onMounted(() => {
  // Load products if not already loaded
  if (productsStore.products.length === 0) {
    productsStore.fetchProducts()
  }
})
</script>

<style scoped>
/* Additional custom styles if needed */
</style>